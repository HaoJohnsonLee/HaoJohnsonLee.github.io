<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="以后将会在此发布一些生活的、技术的、学业的各种分享在这里，以期记录我的点点滴滴">
<meta name="keywords" content="随性、随心">
<meta property="og:type" content="website">
<meta property="og:title" content="昊江的博客">
<meta property="og:url" content="https://haojohnsonlee.github.io/page/2/index.html">
<meta property="og:site_name" content="昊江的博客">
<meta property="og:description" content="以后将会在此发布一些生活的、技术的、学业的各种分享在这里，以期记录我的点点滴滴">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="昊江的博客">
<meta name="twitter:description" content="以后将会在此发布一些生活的、技术的、学业的各种分享在这里，以期记录我的点点滴滴">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://haojohnsonlee.github.io/page/2/"/>





  <title>昊江的博客</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-119891946-1', 'auto');
  ga('send', 'pageview');
</script>











</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">昊江的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">以后将会在此发布一些生活的、技术的、学业的各种分享在这里，以期记录我的点点滴滴</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/12/CAS-in-Java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/CAS-in-Java/" itemprop="url">CAS in Java</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-12T16:16:45+08:00">
                2018-07-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  1,527
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  6 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="CAS-Compare-and-Swap-简介"><a href="#CAS-Compare-and-Swap-简介" class="headerlink" title="CAS(Compare and Swap)简介"></a>CAS(Compare and Swap)简介</h2><blockquote>
<p>解决多线程并行情况下使用锁造成性能损耗的一种机制，CAS操作包含三个操作数——内存位置（V）、预期原值（A）和新值(B)。如果内存位置的值与预期原值相匹配，那么处理器会自动将该位置值更新为新值。否则，处理器不做任何操作。无论哪种情况，它都会在CAS指令之前返回该位置的值。CAS有效地说明了“我认为位置V应该包含值A；如果包含该值，则将B放到这个位置；否则，不要更改该位置，只告诉我这个位置现在的值即可。</p>
</blockquote>
<h2 id="synchronized-amp-volatile-amp-CAS"><a href="#synchronized-amp-volatile-amp-CAS" class="headerlink" title="synchronized &amp; volatile &amp; CAS"></a>synchronized &amp; volatile &amp; CAS</h2><h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p>java中关键字之一，是一种实现同步机制的方法。<br>当某个线程进入synchronized块之后，便获取了该锁对象，其他线程必须等待该线程完成，释放锁对象才能重新获取锁对象。<br>当多线程竞争锁对象时，频繁的上下文切换会带来性能损失。<br>如果一个优先级高的线程等待一个优先级低的线程释放锁会导致优先级倒置，引起性能风险(通常来说，当低优先级线程先于高优先级线程拿到共享资源并将高优先级线程阻塞，则中间优先级的线程可能一直将低高两优先级线程同时阻塞)。—— <a href="https://wenku.baidu.com/view/45600030b90d6c85ec3ac676.html" target="_blank" rel="noopener">Reference</a><br>synchronized实现的锁机制是一种悲观锁。</p>
<h3 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h3><p>同样是java关键字之一，其语义是:</p>
<ul>
<li>保证主内存中的变量值与子线程工作存储变量值保持一致。  </li>
<li>禁止重排<br>在java内存模型中，每个子线程都有自己私有的工作存储，当变量被volatile修饰后，对该线程对变量的写入操作之后，会立刻刷新到主内存中；同样的，读操作会从主内存中加载该变量值，同步到工作存储中。<br>从上述同步过程可以看到，其操作不具有原子性。同步过程分为读-同步-写-同步，在同时读写时可能出现交叉操作，引发歧义。<br>当对被volatile修饰的变量时，之前与之后的操作必然是确定的。也就是说重排操作无法改变该行的位置。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 该程序中，a = 8; 必然处于方法中第三行</span></span><br><span class="line"><span class="comment"> * 而前两行或后两行执行顺序可能发生改变</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">volatile</span> <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">do</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">7</span>;</span><br><span class="line">        a = <span class="number">8</span>;</span><br><span class="line">        s = <span class="number">9</span>;</span><br><span class="line">        t = <span class="number">9</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="CAS"><a href="#CAS" class="headerlink" title="CAS"></a>CAS</h2><p>CAS是一种乐观的同步方式，是非阻塞的。<br>java中，CAS是使用CPU的CAS指令，同时借助JNI来完成的。<br>在java.util.concurrent包下的工具类都是基于CAS模式来设计实现的，相较于synchronized方式，没有阻塞，提高了性能。<br>openjdk7中<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">boolean</span> <span class="title">compareAndSwapInt</span><span class="params">(Object o, <span class="keyword">long</span> offset, <span class="keyword">int</span> expected, <span class="keyword">int</span> x)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>的实现为：<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Adding a lock prefix to an instruction on MP machine</span></span><br><span class="line"><span class="comment">// VC++ doesn't like the lock prefix to be on a single line</span></span><br><span class="line"><span class="comment">// so we can't insert a label after the lock prefix.</span></span><br><span class="line"><span class="comment">// By emitting a lock prefix, we can define a label after it.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOCK_IF_MP(mp) __asm cmp mp, 0  \</span></span><br><span class="line">                       __asm je L0      \</span><br><span class="line">                       __asm _emit <span class="number">0xF0</span> \</span><br><span class="line">                       __asm L0:</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> jint     Atomic::cmpxchg    (jint     exchange_value, <span class="keyword">volatile</span> jint*     dest, jint     compare_value) &#123;</span><br><span class="line">  <span class="comment">// alternative for InterlockedCompareExchange</span></span><br><span class="line">  <span class="keyword">int</span> mp = os::is_MP();</span><br><span class="line">  __asm &#123;</span><br><span class="line">    mov edx, dest</span><br><span class="line">    mov ecx, exchange_value</span><br><span class="line">    mov eax, compare_value</span><br><span class="line">    LOCK_IF_MP(mp)</span><br><span class="line">    cmpxchg dword ptr [edx], ecx</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>首先判断是否为多核处理器(单核处理器也就不存在该问题了).<br>然后进行 cmpxchg 操作。</p>
<h3 id="一些问题"><a href="#一些问题" class="headerlink" title="一些问题"></a>一些问题</h3><ol>
<li>ABA问题:<br>CAS方式下，通过对比新值与期望值是否相等来判定原值是否被修改，从而判断此次操作是否为线程安全的。然而当某一变量从 A-&gt;B-&gt;A发生改变时，数据上未发生改变，当实质上运行环境可能完全不一致，导致不可预知的问题。<br>我们可以将需要同步的变量添加版本号标志位，即将上述过程变更为 1A-&gt;2B-&gt;3A,便可感知其变更。在java中java.util.concurrent.atomic.AtomicStampedReference 类实现了该操作，每个reference添加stamp来标志该变量版本。</li>
<li>长时间更新失败，CPU开销增大:<br>由于是先执行在判断是否更新成功，当长时间更新失败时，陷入循环，浪费CPU计算资源。<blockquote>
<p>如果JVM能支持处理器提供的pause指令那么效率会有一定的提升，pause指令有两个作用，第一它可以延迟流水线执行指令（de-pipeline）,使CPU不会消耗过多的执行资源，延迟的时间取决于具体实现的版本，在一些处理器上延迟时间是零。第二它可以避免在退出循环的时候因内存顺序冲突（memory order violation）而引起CPU流水线被清空（CPU pipeline flush），从而提高CPU的执行效率。</p>
</blockquote>
</li>
<li>只能对单个变量进行同步<br>CAS操作只能实现对一个共享变量进行操作，这是我们可以通过锁机制来保证多个变量的原子性，或者将多个变量包装到一个变量中。<br>java.util.concurrent.atomic.AtomicReference类实现了该方法。</li>
</ol>
<h2 id="java-util-concurrent"><a href="#java-util-concurrent" class="headerlink" title="java.util.concurrent"></a>java.util.concurrent</h2><p>该包下的工具类、容器类等都是基于CAS操作模式来进行同步操作的。<br>其基本的操作模式为:</p>
<ul>
<li>将共享变量声明为volatile</li>
<li>使用CAS的原子条件更新来实现线程之间的同步</li>
<li><p>配合以volatile的读/写和CAS所具有的volatile读和写的内存语义来实现线程之间的通信。</p>
<p>AQS，非阻塞数据结构和原子变量类（java.util.concurrent.atomic包中的类），这些concurrent包中的基础类都是使用这种模式来实现的，而concurrent包中的高层类又是依赖于这些基础类来实现的。从整体来看，concurrent包的实现示意图如下：<br><img src="http://dl.iteye.com/upload/attachment/0083/2584/b7b2472f-6b93-3f85-9e44-29a9ff774c8e.png" alt="image"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://www.cnblogs.com/dolphin0520/p/3920373.html" target="_blank" rel="noopener">Volatile</a><br><a href="https://blog.csdn.net/javazejian/article/details/72772461" target="_blank" rel="noopener">JMM</a><br><a href="https://blog.csdn.net/ls5718/article/details/52563959" target="_blank" rel="noopener">CAS</a></p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/11/Trie-Tree-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/11/Trie-Tree-0/" itemprop="url">Trie Tree-0</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-11T20:53:54+08:00">
                2018-07-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  488
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  2 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Ignatius最近遇到一个难题,老师交给他很多单词(只有小写字母组成,不会有重复的单词出现),现在老师要他统计出以某个字符串为前缀的单词数量(单词本身也是自己的前缀).</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>输入数据的第一部分是一张单词表,每行一个单词,单词的长度不超过10,它们代表的是老师交给Ignatius统计的单词,一个空行代表单词表的结束.第二部分是一连串的提问,每行一个提问,每个提问都是一个字符串.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><blockquote>
<p>banana<br>band<br>bee<br>absolute<br>acm</p>
</blockquote>
<blockquote>
<p>ba<br>b<br>band<br>abc</p>
</blockquote>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>对于每个提问,给出以该字符串为前缀的单词的数量.</p>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><blockquote>
<p>2<br>3<br>1<br>0</p>
</blockquote>
<h2 id="TrieTree-to-solve"><a href="#TrieTree-to-solve" class="headerlink" title="TrieTree to solve"></a>TrieTree to solve</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> per.johnson.dsa.ds;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Johnson on 2018/7/11.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrieTree</span> </span>&#123;</span><br><span class="line">    TrieTreeNode root;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TrieTree</span><span class="params">()</span></span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieTreeNode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String src)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] array = src.toCharArray();</span><br><span class="line">        TrieTreeNode cur;</span><br><span class="line">        TrieTreeNode temp = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;array.length; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> index = array[i] - <span class="string">'a'</span>;</span><br><span class="line">            cur = temp.next[index];</span><br><span class="line">            <span class="keyword">if</span>(cur == <span class="keyword">null</span>)&#123;</span><br><span class="line">                temp.next[index] = <span class="keyword">new</span> TrieTreeNode();</span><br><span class="line">                cur = temp.next[index];</span><br><span class="line">                cur.isWord = (i == array.length - <span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                cur.count++;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = cur;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trieNum</span><span class="params">(String sample)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] chars = sample.toCharArray();</span><br><span class="line">        TrieTreeNode end = <span class="keyword">null</span> ;</span><br><span class="line">        TrieTreeNode temp =root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chars.length; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> index = chars[i] - <span class="string">'a'</span>;</span><br><span class="line">            temp = temp.next[index];</span><br><span class="line">            end = temp;</span><br><span class="line">            <span class="keyword">if</span>(temp == <span class="keyword">null</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> end == <span class="keyword">null</span> ? <span class="number">0</span> : end.count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TrieTree tree = <span class="keyword">new</span> TrieTree();</span><br><span class="line">        tree.insert(<span class="string">"banana"</span>);</span><br><span class="line">        tree.insert(<span class="string">"band"</span>);</span><br><span class="line">        tree.insert(<span class="string">"bee"</span>);</span><br><span class="line">        tree.insert(<span class="string">"absolute"</span>);</span><br><span class="line">        tree.insert(<span class="string">"acm"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(tree.trieNum(<span class="string">"ba"</span>));</span><br><span class="line">        System.out.println(tree.trieNum(<span class="string">"b"</span>));</span><br><span class="line">        System.out.println(tree.trieNum(<span class="string">"band"</span>));</span><br><span class="line">        System.out.println(tree.trieNum(<span class="string">"abc"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieTreeNode</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count; <span class="comment">//以该单词为前缀的单词数目，自己为自己前缀</span></span><br><span class="line">    TrieTreeNode[] next;  <span class="comment">// 子节点</span></span><br><span class="line">    <span class="keyword">boolean</span> isWord; <span class="comment">//是否以此为结束的一个单词</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TrieTreeNode</span><span class="params">()</span></span>&#123;</span><br><span class="line">        count = <span class="number">1</span>;</span><br><span class="line">        isWord = <span class="keyword">false</span>;</span><br><span class="line">        next = <span class="keyword">new</span> TrieTreeNode[<span class="number">26</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/11/计算机网络-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/11/计算机网络-0/" itemprop="url">计算机网络-0</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-11T15:36:58+08:00">
                2018-07-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  2
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/09/影评-我不是药神/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/09/影评-我不是药神/" itemprop="url">我不是药神</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-09T20:47:57+08:00">
                2018-07-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  2,784
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  9 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;忙里偷闲，今晚去看了《我不是药神》这部据说值得十刷的电影，抱着极大的期望去影院，趁着这股兴奋劲儿，把现在的想法记录下来。  </p>
<h2 id="先说人物"><a href="#先说人物" class="headerlink" title="先说人物"></a>先说人物</h2><p><strong>以下内容，含有巨量剧透！！！！</strong>  </p>
<p>&emsp;&emsp;电影中的矛盾真的表现得很真实，也很尖锐，所有人的出发点都是好的，都是为了自己所认定的“正义”而努力着。两个小时的电影没有哪个瞬间是出戏的。吕受益的自杀、黄毛的死和他的火车票、白血病老奶奶的祈求都泪点十足，每个演员都把将角色的性格刻在了我们脑子里。<br>&emsp;&emsp;电影里每个人物的性格都是刻骨铭心的。  </p>
<h4 id="程勇"><a href="#程勇" class="headerlink" title="程勇"></a>程勇</h4><p>&emsp;&emsp;程勇起初只是一个利益至上的、被人瞧不起的、不被当作男人的人，只是一个卖壮阳药的欠着房租的Loser。他打老婆、穷困潦倒、有老父亲患有重病还有和前妻争夺儿子的战争。父亲重病急需用钱，让他走上了走私仿制药这条暴利的路(他不想当什么救世主，他只想赚钱)。巨额的利润让他的经济情况有所好转，甚至能够做“团建”活动了。在酒吧里，他坚持不让思慧上台跳艳舞，他有钱、有底气、有能力、有意识去保护自己在乎的人。这让人感到疑惑，一个打老婆的小人怎么会去保护一个仅仅相处几个月的女人。我想他可能就是一个内心柔软的人，生存的压力和前妻相处的不融洽让他变成了“别人”，从儿子和他最亲看出来，他确实是一个可爱的人。再后来暴利被人盯上，要求他退出，将生意让给假药贩子，否则就报警。这时，他想的是自保，选择了丢掉一起取暖的众人，选择了“杀死”这些无助的人。这时，所有人都看不起他，也包括他自己(后来，他问黄毛是不是看不起他，他内心也觉得那时的自己不值得被尊重吧)。<br>&emsp;&emsp;假药贩子经营的这段时间，仿制药的价格不断上涨逼近正版药，让患者跳反把他举报了。谁都买不起药了，吕受益没药走向自杀。在吕受益的自杀之后，看到茫茫多的白血病患者将会走上吕受益的老路的情况下，他选择了背负起责任，而不是做一个被人瞧不起的人(他不想赚什么钱，只想当一个救世主)。这时他做的完全是基于他自己想要的“正义”，他想做一个好人，做一个让别人看得起的人。直到被抓被判刑，看着路边为他送行的白血病患者，他流泪了，是他被他们的真情感动？是他为他们的未来担忧？抑或是他为死去的那些人感到遗憾？都未可知，但可以确定的是，他并不后悔。<br>&emsp;&emsp;我认为程勇一直是一个善良可爱的人，他悉心照顾父亲，房租都付不起却依然能给儿子购买昂贵的球鞋。作为父亲与儿子他都尽了全力。作为丈夫，他还是输给了现实。没有血缘关系维护的感情是否都会败给现实？他的前妻做得也没错，跟着他看不到希望，儿子也没有可期的未来，无可厚非。他情感上有爱的能力，现实中却没有，只能通过打骂的方式来提高自己的存在感，找寻自己的价值，在谷底做着无畏的挣扎。当他现实中有能力之后，他会主动保护自己在乎的人，会主动承担责任，会想做一个被看得起的人。果然经济才是基础，才能决定上层建筑，没有基础，妄谈未来都是耍流氓。  </p>
<h4 id="思慧"><a href="#思慧" class="headerlink" title="思慧"></a>思慧</h4><p>&emsp;&emsp;其次给我印象最深的就是思慧了。她是一个被丈夫抛弃的女人，独自带着患有白血病的女儿努力地生活。起初，正版药巨额的价格让她不得不在酒吧跳艳舞来维持生活。因为她手上有许多病友的联系方式，卖药的程勇找上了她，拉她入伙并且能给提供廉价的药来治疗她的女儿。真正让她进入我的视野是在“团建”活动里，酒吧经理要求她上台跳舞，她准备上台时被程勇拒绝，并用钱让酒吧经理上台跳舞。在程勇拒绝经理要求的时候，她表情先是惊讶再变为一丝欣喜。她是一个独自带着女儿的女人，外表坚强，没有他人的庇佑。突然有人站在她前面保护她让她惊讶这世上竟有在乎她的人，她在世界上生活已经很不容易了，孤独了这么久，发现她已经不是一个人了，真是不容易。她和程勇看着台上跳艳舞的经理，都大笑得看着经理得窘态，然而镜头转向的时候，她眼里却泛出了泪花。她感受的是终于不是一个人了时的激动还是当初她在台上，台下人也是这么看她时的心酸？她是一个能力很强的人，若不是被抛弃，女儿患病，也不至于落到这个地步。<br>&emsp;&emsp;程勇执意要将她送回家，思慧一回到家就提出先去洗澡的暗示。我想她或许是想要报答程勇，或许是真的爱上了他。但是后来的一系列动作看不出来爱情，更像是完成某种仪式，某种任务。也许程勇也感受到了，他接受不了这样的欢愉，选择了逃离。思慧在程勇走后，嘴角再一次扬起，或许她遇到了值得依靠的人。<br>&emsp;&emsp;在程勇提出散伙的时候，她一言不发，默默的走了。她是一个已经被抛弃过一次的人，再次遭受抛弃让她习以为常，没有黄毛的愤怒，没有吕受益的自欺欺人，更多是像牧师一样的老练，让人更发觉得心疼。看到这一幕的时候，我把我自己代入了程勇的角色中，面对自己在乎的人离开，自己没有什么可说的，没有什么能做的。他可能很想伸出手将她拉回来，可是拉回来又有什么用呢？<br>&emsp;&emsp;程勇回来无私帮助病友后，她依然站在了他那一边，只要他不放弃，她也不会放弃。  </p>
<h4 id="吕受益"><a href="#吕受益" class="headerlink" title="吕受益"></a>吕受益</h4><p>&emsp;&emsp;吕受益没钱但怀有希望，他知道有廉价仿制药的存在，骗程勇来获得一丝活下来的机会。通过各式各样的渠道来帮助程勇销售仿制药，继而保证自己药的供应。在于程勇的相处过程中，他也感受到了程勇的好，将全部的希望放在程勇的身上，而且他也只能这样。<br>&emsp;&emsp;他是一个理智的人，也是一个乐观的人。所有人围堵正版药商大门的时候，他只静坐在一旁看着他们，甚至还想笑。他知道那毫无意义，只等待着程勇的消息。幸运的是，程勇带来的是好消息，他有一直活下去的希望了。他将程勇带回家，将其视为救命恩人，和他分享着家里生活的点点滴滴。<br>&emsp;&emsp;当程勇提出散伙的时候，他知道程勇并没有喝醉，只是不想接受现实罢了。所以他再一次向程勇确认，程勇只说了一个字————“滚”。这给把他打回了现实，默默地离开了，走向了死亡(不得不佩服王传君和徐峥的演技，完全能让我感受到两人此刻内心的变化)。<br>&emsp;&emsp;高昂的治疗费用让他没有活下去的希望了，他内心很是煎熬，他是想活下去的，但是这是不可能的，结果必然是人财两空。为了家人能好点生活，他自杀了。我并不是很理解他自杀前，看着熟睡的妻子儿子露出的笑容，妻子儿子难以承受失去他的痛，他可能是在欣慰他帮她们做出了这个难以做出的决断，也可能是他终于可以不用发出那撕心裂肺的惨叫声了，我不确定。  </p>
<h4 id="其他人"><a href="#其他人" class="headerlink" title="其他人"></a>其他人</h4><p>&emsp;&emsp;黄毛很可惜，死前理发想要回家，留下的却是一张再也使用不了的火车票。曹彬是个警察，他只能站在法律的一边，尽管法律要求他做的与他的价值观不符，他最后只能退出，他也认同程勇是个好人。医药代表代表着公司的利益，也是没错的。仿制药泛滥市场，对于新药的开发是具有极大消极意义的，他也只是为了公司的发展。  </p>
<h2 id="感受"><a href="#感受" class="headerlink" title="感受"></a>感受</h2><p>&emsp;&emsp;单从电影的角度来看，它深深地感染了我，每一个角色都刻画在我的脑海里，以致于一刷之后还能回想起大部分细节，这可能是今年最让我印象深刻的电影了。<br>&emsp;&emsp;从电影中引出了更深层次的思考，这是一件真实的事儿改编而来的，单从个人角度来看，每个人都做着对的事儿。程勇帮助人有错吗？病人不想死有错吗？警察维护法律有错吗？医药代表维护公司权益有错吗？<br>张长林说:</p>
<blockquote>
<p>世界上只有一种病，那就是穷病  </p>
</blockquote>
<p>是啊，当药的价格降到500，同样有人买不起。有钱了才能有治病的资格，世界往往不是公平的，那些没钱的病人注定没资格活下去，多么深刻的又让人心疼的教条。就像最后程勇说的</p>
<blockquote>
<p>看着那些病人他心里也很难受，希望以后会越来越好</p>
</blockquote>
<p>无奈且现实。<br>当我想到哪一天我也生病且无力医治之时，内心该是有多么绝望。曾几何时，我也想过当这天来临，我想过我可能会懦弱地苟活在这世上，直到耗尽亲人的资源，最后死去。我想不到自杀需要多大的勇气，我是万万不敢做的，但真到了那一天，谁又能预料得到呢？</p>
<h2 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h2><p>第一次看电影之后的感受撰写成文，只因为以前可以分享的人不在了，我总是一个想要表达自己的人。<br>现在可能有更多的人能看到，也很开心。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/08/Manacher's-Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/08/Manacher's-Algorithm/" itemprop="url">Manacher's Algorithm</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-08T19:52:22+08:00">
                2018-07-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  513
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  3 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Discription"><a href="#Discription" class="headerlink" title="Discription"></a>Discription</h2><p>Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.  </p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><html><br><br><p><strong>Example 1:</strong></p><br><br><pre><strong>Input:</strong> “babad”<br><strong>Output:</strong> “bab”<br><strong>Note:</strong> “aba” is also a valid answer.<br></pre><br><br><p><strong>Example 2:</strong></p><br><br><pre><strong>Input:</strong> “cbbd”<br><strong>Output:</strong> “bb”<br></pre><br><br></html>  

<h2 id="3-Ways"><a href="#3-Ways" class="headerlink" title="3 Ways"></a>3 Ways</h2><h3 id="简单枚举-O-N-3"><a href="#简单枚举-O-N-3" class="headerlink" title="简单枚举 O(N ** 3)"></a>简单枚举 O(N ** 3)</h3><h3 id="对称方式枚举-O-N-2"><a href="#对称方式枚举-O-N-2" class="headerlink" title="对称方式枚举 O(N ** 2)"></a>对称方式枚举 O(N ** 2)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] origin = s.toCharArray();</span><br><span class="line">    <span class="keyword">char</span>[] ma = insert(origin);</span><br><span class="line">    <span class="keyword">int</span>[] mp = <span class="keyword">new</span> <span class="keyword">int</span>[ma.length];</span><br><span class="line">    <span class="keyword">int</span> mx = <span class="number">0</span>;   <span class="comment">//当前右边界</span></span><br><span class="line">    <span class="keyword">int</span> id = <span class="number">0</span>;  <span class="comment">//最长回文字串index</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; ma.length; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> mirror = <span class="number">2</span> * id - i;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= mx &amp;&amp; mirror &gt;= <span class="number">0</span>) &#123;  <span class="comment">// 当前位置处于回文范围内,且mirror合法</span></span><br><span class="line">            mp[i] = Math.min(mp[mirror], mx - i);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">//在回文区域外</span></span><br><span class="line">            mp[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//尝试扩充</span></span><br><span class="line">        <span class="keyword">while</span> ((i - mp[i] - <span class="number">1</span>) &gt; -<span class="number">1</span> &amp;&amp; (i + mp[i] + <span class="number">1</span>) &lt; ma.length &amp;&amp; (ma[i - mp[i] - <span class="number">1</span>] == ma[i + mp[i] + <span class="number">1</span>]))</span><br><span class="line">            mp[i]++;</span><br><span class="line">        <span class="keyword">if</span> (i + mp[i] &gt; mx) &#123; <span class="comment">//扩展边界值</span></span><br><span class="line">            mx = i + mp[i];</span><br><span class="line">            id = mp[id] &gt; mp[i] ? id : i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> length = mp[id];</span><br><span class="line">    <span class="keyword">return</span> String.valueOf(origin, (id - length) / <span class="number">2</span>, length);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">char</span>[] insert(<span class="keyword">char</span>[] origin) &#123;</span><br><span class="line">    <span class="keyword">char</span>[] newArray = <span class="keyword">new</span> <span class="keyword">char</span>[origin.length * <span class="number">2</span> + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; origin.length; i++) &#123;</span><br><span class="line">        newArray[<span class="number">2</span> * i] = <span class="string">'#'</span>;</span><br><span class="line">        newArray[<span class="number">2</span> * i + <span class="number">1</span>] = origin[i];</span><br><span class="line">    &#125;</span><br><span class="line">    newArray[newArray.length - <span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line">    <span class="keyword">return</span> newArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Manacher’s-Algorithm-O-N"><a href="#Manacher’s-Algorithm-O-N" class="headerlink" title="Manacher’s Algorithm O(N)"></a>Manacher’s Algorithm O(N)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] origin = s.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] ma = insert(origin);</span><br><span class="line">        <span class="keyword">int</span>[] mp = <span class="keyword">new</span> <span class="keyword">int</span>[ma.length];</span><br><span class="line">        <span class="keyword">int</span> mx = <span class="number">0</span>;   <span class="comment">//当前右边界</span></span><br><span class="line">        <span class="keyword">int</span> id = <span class="number">0</span>;  <span class="comment">//最长回文字串index</span></span><br><span class="line">        mp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; ma.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> mirror = <span class="number">2</span> * id - i;</span><br><span class="line">            <span class="keyword">if</span> (i &lt;= mx) &#123;  <span class="comment">// 当前位置处于回文范围内</span></span><br><span class="line">                mp[i] = Math.min(mp[mirror], mx - i);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">//在回文区域外</span></span><br><span class="line">                mp[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//尝试扩充</span></span><br><span class="line">            <span class="keyword">while</span> ((i - mp[i] - <span class="number">1</span>) &gt; -<span class="number">1</span> &amp;&amp; (i + mp[i] + <span class="number">1</span>) &lt; ma.length &amp;&amp; (ma[i - mp[i] - <span class="number">1</span>] == ma[i + mp[i] + <span class="number">1</span>]))</span><br><span class="line">                mp[i]++;</span><br><span class="line">            <span class="keyword">if</span> (i + mp[i] &gt; mx) &#123; <span class="comment">//扩展边界值</span></span><br><span class="line">                mx = i + mp[i];</span><br><span class="line">                id = mp[id] &gt; mp[i] ? id : i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> length = mp[id];</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(origin, (id - <span class="number">1</span> - length)/<span class="number">2</span>, length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">char</span>[] insert(<span class="keyword">char</span>[] origin) &#123;</span><br><span class="line">        <span class="keyword">char</span>[] newArray = <span class="keyword">new</span> <span class="keyword">char</span>[origin.length * <span class="number">2</span> + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; origin.length; i++) &#123;</span><br><span class="line">            newArray[<span class="number">2</span> * i] = <span class="string">'#'</span>;</span><br><span class="line">            newArray[<span class="number">2</span> * i + <span class="number">1</span>] = origin[i];</span><br><span class="line">        &#125;</span><br><span class="line">        newArray[newArray.length - <span class="number">1</span>] = <span class="string">'#'</span>;</span><br><span class="line">        <span class="keyword">return</span> newArray;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://articles.leetcode.com/longest-palindromic-substring-part-ii/" target="_blank" rel="noopener">LeetCode articles</a><br><a href="https://en.wikipedia.org/wiki/Longest_palindromic_substring" target="_blank" rel="noopener">Longest palindromic substring on wikipedia</a><br><a href="https://github.com/HaoJohnsonLee/DSAwithJava" target="_blank" rel="noopener">More Algorithms</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/05/二叉树重建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/05/二叉树重建/" itemprop="url">二叉树重建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-05T11:27:49+08:00">
                2018-07-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  129
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="TreeNode-结构"><a href="#TreeNode-结构" class="headerlink" title="TreeNode 结构"></a>TreeNode 结构</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="前序-中序"><a href="#前序-中序" class="headerlink" title="前序 + 中序"></a>前序 + 中序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">reConstructBinaryTree</span><span class="params">(<span class="keyword">int</span> [] pre,<span class="keyword">int</span> [] in)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> reConstructBinaryTree(pre,<span class="number">0</span>,pre.length-<span class="number">1</span>,in,<span class="number">0</span>,in.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">reConstructBinaryTree</span><span class="params">(<span class="keyword">int</span> [] pre,<span class="keyword">int</span> startPre,<span class="keyword">int</span> endPre,<span class="keyword">int</span> [] in,<span class="keyword">int</span> startIn,<span class="keyword">int</span> endIn)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(startPre &gt; endPre || startIn &gt; endIn) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(pre[startPre]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = startIn; i&lt;= endIn ; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(in[i] == pre[startPre])&#123;</span><br><span class="line">                root.left=reConstructBinaryTree(pre,startPre+<span class="number">1</span>,startPre+i-startIn,in,startIn,i-<span class="number">1</span>);</span><br><span class="line">                root.right=reConstructBinaryTree(pre,i-startIn+startPre+<span class="number">1</span>,endPre,in,i+<span class="number">1</span>,endIn);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/04/java函数参数传递&自增的坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/java函数参数传递&自增的坑/" itemprop="url">java函数参数传递&自增的坑</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-04T23:35:12+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  812
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  3 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>有一段这样的代码:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ValueAndReference</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ValueAndReference vr = <span class="keyword">new</span> ValueAndReference();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        vr.increase(i);</span><br><span class="line">        i= i ++;</span><br><span class="line">        System.out.println(i);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increase</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>刚开始以为输出是”1”,以为只有值传递的坑，发现自增的坑最终坑了。<br>最后输出是 <strong>0</strong>，两次”<strong>++</strong>“操作都没能改变 <strong>i</strong> 的值。 </p>
<h2 id="值传递"><a href="#值传递" class="headerlink" title="值传递"></a>值传递</h2><p>起初，以为在java中，与其他语言(如C++)有相同参数传递机制，值传递与引用传递，而且一直这样实践着，后来发现在java中<strong>所有的参数传递都是值传递</strong>，在《java核心技术卷一(原书第九版)》中提到</p>
<blockquote>
<p>java程序设计语言对对象采用的不是引用调用，实际上，对象引用进行的是值传递。  </p>
</blockquote>
<p>这就决定了以下几点:  </p>
<ul>
<li>1.函数参数接收的永远是真正传入对象的拷贝。<br>2.函数内部无法改变真正对象的值。具体来说，基本数据类型值无法改变(如上例中的 i )，非基本类型无法改变其所指向的对象，也就是无法让其指向新对象，但是可以改变对象内部的状态。</li>
</ul>
<p>也就是说，在java中，不存在引用传递这一说。</p>
<h2 id="i-i-发生了什么？"><a href="#i-i-发生了什么？" class="headerlink" title="i = i++ 发生了什么？"></a>i = i++ 发生了什么？</h2><p>从下面这个小例子出发:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        i = i++;</span><br><span class="line">        System.out.print(i);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>同样的，该例子输出为 <strong>0</strong>  。<br>经编译器编译后使用javap工具得到编译后的结果如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">  public Test();</span><br><span class="line">    Code:</span><br><span class="line">       0: aload_0</span><br><span class="line">       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">       4: return</span><br><span class="line"></span><br><span class="line">  public static void main(java.lang.String[]);</span><br><span class="line">    Code:</span><br><span class="line">       0: iconst_0</span><br><span class="line">       1: istore_1</span><br><span class="line">       2: iload_1</span><br><span class="line">       3: iinc          1, 1</span><br><span class="line">       6: istore_1</span><br><span class="line">       7: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">      10: iload_1</span><br><span class="line">      11: invokevirtual #3                  // Method java/io/PrintStream.print:(I)V</span><br><span class="line">      14: return</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>关注于main方法对 <strong>i</strong> 变量的处理过程。<br>0、 将 int 类型 <strong>0</strong> 入栈<br>1、 弹出栈顶元素，将值存入1st个局部变量中，即 <strong>i</strong><br>2、 从<strong>i</strong>中取出数值入栈    </p>
<blockquote>
<p>int i = 0;  </p>
</blockquote>
<p>3-5、 局部变量自增,此时 <strong>i</strong> 的值为 <strong>1</strong><br>6、 弹出栈顶元素，将值存入1st个局部变量中，此时 <strong>i</strong> 的值回到开始栈顶元素大小 <strong>0</strong><br>之后的代码就是输出格式了。<br>从上面的代码可以看出，<strong>i++</strong> 的值实际上不是赋给 <strong>i</strong>本身，而是另外的局部变量，最终 <strong>i</strong> 的值还是最初入栈的那个值。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>根据这些，可以知道，java在函数传递的安全性上做了足够的工作，你无法真正改变传入的参数，也就不会出现混乱的引用情况了。<br>在局部变量赋值的过程中，总是从栈中弹出值赋给局部变量，<strong>i++</strong> 的操作，只改变了局部变量的值，而为改变栈中元素的值，所以 <strong>i = i++ ;</strong> 的操作无法改变 <strong>i</strong> 的值，也就可以理解 <strong>i++;</strong> 不做赋值操作可以改变 <strong>i</strong> 的值了。</p>
<h3 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h3><p><a href="http://pbc5upl77.bkt.clouddn.com/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%20%E5%8D%B7%E2%85%A0%28%E5%8E%9F%E4%B9%A6%E7%AC%AC9%E7%89%88%29.pdf" target="_blank" rel="noopener">Java核心技术 卷Ⅰ(原书第9版)  </a><br><a href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html" target="_blank" rel="noopener">Java Virtual Machine Specification-The class File Format</a>  </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/04/java杂记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/java杂记/" itemprop="url">java杂记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-04T19:16:17+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  1,706
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  7 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>byte -&gt; short-&gt; char -&gt; int -&gt; long -&gt; float -&gt; double</li>
<li><img src="http://pbc5upl77.bkt.clouddn.com/2527957_1498180954324_D83CBF646B3F43FE947460F6D7231780.png" alt="image"></li>
<li><img src="http://pbc5upl77.bkt.clouddn.com/7010483_1490969513544_B5CDD8870777EEC7D957D189E573CF3B.png" alt="image"></li>
<li>方法重载(Overload)的要求:<ol>
<li>函数名要一致。</li>
<li>形参列表不一致（形参的个数或形参 的类型不一致）</li>
<li>与返回值类型无关。</li>
</ol>
</li>
<li>方法重写(Override)要注意的事项：<ol>
<li>方法重写时,方法名与形参列表必须一致。</li>
<li>方法重写时,子类的权限修饰符必须要大于或者等于父类的权限修饰符。</li>
<li>方法重写时,子类的返回值类型必须要小于或者 等于父类的返回值类型。</li>
<li>方法重写时,子类抛出的异常类型要小于或者等于父类抛出的异常类型。  </li>
</ol>
</li>
<li>HttpServletRequest类主要处理：  <ol>
<li>读取和写入HTTP头标</li>
<li>取得和设置cookies</li>
<li>取得路径信息</li>
<li>标识HTTP会话</li>
</ol>
</li>
<li><a href="http://blog.51cto.com/qing0991/1387200" target="_blank" rel="noopener">关于Java中try-catch-finally-return的执行顺序</a></li>
<li>运行时数据区包括：程序计数器、虚拟机栈、本地方法栈、Java堆、方法区以及方法区中的运行时常量池:<ol>
<li>程序计数器： <strong>线程私有</strong>，是当前线程所执行的字节码的行号指示器，如果线程正执行一个java方法，计数器记录正在执行的虚拟机字节码指令的地址，如果线程正在执行的是Native方法，则计数器值为空；</li>
<li>虚拟机栈： 即栈区， <strong>线程私有</strong> ，为虚拟机执行 Java 方法（字节码）服务，每个方法在执行的时会创建一个栈帧用于存放局部变量表、操作数栈、动态链接和方法出口等信息，每个方法的调用直至执行完成对应于栈帧的入栈和出栈；</li>
<li>本地方法栈：为虚拟机使用的Native方法服务，也是<strong>线程私有</strong>；</li>
<li>Java 堆：在虚拟机启动时创建，<strong>线程共享</strong> ，唯一目的是存放对象实例，是垃圾收集器管理的主要区域——” GC 堆“，可以细分为新生代和老年代，新生代又可以细分为 Eden 空间、 From Survivor空间和To Survivor空间；物理上可以不连续，但逻辑上连续，可以选择固定大小或者扩展；</li>
<li>方法区： <strong>线程共享</strong> ，用于存储被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。被称为“永久代”，是因为 HotSpot 虚拟机的设计团队把 GC 分代收集扩展到方法区，即使用永久代来实现方法区，像 GC 管理 Java 堆一样管理方法区，从而省去专门为方法区编写内存管理代码，内存回收目标是针对常量池的回收和堆类型的卸载；</li>
<li>运行时常量池：<strong>线程共享</strong> ，是方法区的一部分， C lass 文件中存放编译期生成的各种字面量和符号引用，类加载后进入方法区的运行时常量池中。<br>模型如下图所示:<br><img src="http://pbc5upl77.bkt.clouddn.com/jmm.png" alt="image"></li>
</ol>
</li>
<li><a href="https://blog.csdn.net/javazejian/article/details/72772461" target="_blank" rel="noopener">简述java内存模型</a></li>
<li><p>DispatcherServlet是前端控制器(Front Controller)设计模式的实现主要用作职责调度工作，本身主要用于控制流程<br><img src="http://pbc5upl77.bkt.clouddn.com/springMVCA.png" alt="image"><br>主要职责如下：</p>
<ol>
<li>文件上传解析，如果请求类型是multipart将通过MultipartResolver进行文件上传解析；</li>
<li>通过HandlerMapping，将请求映射到处理器（返回一个HandlerExecutionChain，它包括一个处理器、多个HandlerInterceptor拦截器）；</li>
<li>通过HandlerAdapter支持多种类型的处理器(HandlerExecutionChain中的处理器)；</li>
<li>通过ViewResolver解析逻辑视图名到具体视图实现；</li>
<li>本地化解析；</li>
<li>渲染具体的视图等；</li>
<li>如果执行过程中遇到异常将交给HandlerExceptionResolver来解析。</li>
</ol>
</li>
<li><p>当父类，和子类有static时，先初始化父类static，再初始化子类的static，再初始化父类的其他成员变量－&gt;父类构造方法－&gt;子类其他成员变量－&gt;子类的构造方法。<br>父类上层还有父类时，总是先执行最顶层父类的Static－－&gt;派生类static－－&gt;派生类static－－&gt;…－－&gt;子类static－－&gt;顶层父类的其他成员变量－－&gt;父类构造方法－－&gt;派生类的其他成员变量－－&gt;派生类构造方法－－&gt;…－－&gt;子类其他成员变量－－&gt;子类构造方法。<br>同级static块按照出现顺序初始化。</p>
</li>
<li>JSP生命周期:<br><img src="http://pbc5upl77.bkt.clouddn.com/jsp_life_cycle.jpg" alt="image"><ol>
<li>第一次发起请求，将jsp文件转化为servlet源文件,编译。执行jspInit()方法，生命周期内只调用一次。</li>
<li>调用jspServive()方法</li>
<li>当容器移除该Servlet、该Servlet发生更改、服务关闭调用jspDestroy()方法。</li>
</ol>
</li>
<li>hashcode和equals的约定关系如下：<ol>
<li>如果两个对象相等(equals == true)，那么他们一定有相同的哈希值（hash code）。</li>
<li>如果两个对象的哈希值相等，那么这两个对象有可能相等也有可能不相等。  </li>
</ol>
</li>
</ol>
<p>作为散列表的key值的对象，若判定为相同，必须有相同的hash code并且equals方法返回true。  </p>
<ol start="14">
<li><p>当一个线程被标记成daemon线程，意味着当主线程结束，并且没有其它正在运行的非daemon线程时，该daemon线程也会自动结束。  </p>
</li>
<li><ol>
<li>Only public &amp; abstract are permitted before interface declare.  </li>
<li>Only public, protected, private, abstract &amp; static are permitted before internal interface declare. </li>
</ol>
</li>
<li><p>数值表示:</p>
<ol>
<li>有符号数：是针对二进制来讲的。用最高位作为符号位，“0”代表“+”，“1”代表“-</li>
<li>计算机中负数是以补码的形式保存的,对于正数，原码与补码相同;对于负数，将补码除符号位之外，按位取反，末位加1得到原码。</li>
</ol>
</li>
<li><a href="https://blog.csdn.net/javazejian/article/details/71333103" target="_blank" rel="noopener">深入理解Java枚举类型(enum)</a></li>
<li>Java虚拟机中通常使用UTF-16的方式保存一个char类型数值</li>
<li>实现国际化应用常用的手段是利用ResourceBundle类</li>
<li>java.sql 部分接口继承关系</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">PreparedStatment--&gt;Statement</span><br><span class="line">CallableStatment--&gt;PreparedStatment</span><br></pre></td></tr></table></figure>
<p>21.<a href="http://lucaslee.iteye.com/blog/49292" target="_blank" rel="noopener">PreparedStatment与Statment性能对比</a> </p>
<ol start="22">
<li>接口中的变量默认是public static final 的，方法默认是public abstract 的。</li>
<li>java 集合类图 <img src="http://pbc5upl77.bkt.clouddn.com/collection_uml.jpg" alt="image"></li>
<li>public class ThreadLocal<t>:<ol>
<li>ThreadLocal类为每一个线程都维护了自己独有的变量拷贝。每个线程都拥有了自己独立的一个变量。</li>
<li>ThreadLocal中定义了一个哈希表用于为每个线程都提供一个变量的副本。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The entries in this hash map extend WeakReference, using</span></span><br><span class="line"><span class="comment">     * its main ref field as the key (which is always a</span></span><br><span class="line"><span class="comment">     * ThreadLocal object).  Note that null keys (i.e. entry.get()</span></span><br><span class="line"><span class="comment">     * == null) mean that the key is no longer referenced, so the</span></span><br><span class="line"><span class="comment">     * entry can be expunged from table.  Such entries are referred to</span></span><br><span class="line"><span class="comment">     * as "stale entries" in the code that follows.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span> <span class="keyword">extends</span> <span class="title">WeakReference</span>&lt;<span class="title">ThreadLocal</span>&lt;?&gt;&gt; </span>&#123;</span><br><span class="line">        <span class="comment">/** The value associated with this ThreadLocal. */</span></span><br><span class="line">        Object value;</span><br><span class="line"></span><br><span class="line">        Entry(ThreadLocal&lt;?&gt; k, Object v) &#123;</span><br><span class="line">            <span class="keyword">super</span>(k);</span><br><span class="line">            value = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</t></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/04/推荐列表/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/推荐列表/" itemprop="url">推荐列表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-04T14:32:47+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  290
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Pre"><a href="#Pre" class="headerlink" title="Pre"></a>Pre</h2><p>票圈分享音乐已经满足不了我了，还有更多的东西希望大家可以一起读读、一起听听、一起看看。<br>在这里，我会写上一些看过的、听过的、想看的和想听的有趣的东西，如果有足够吸引力的话，还会写上我的一些拙见，以期一起讨论。<br>有一些墙外有趣的东西，也会搬运下来一起分享。<br>如果提供的链接过期，请留言。<br>如果云存储申请好了，就可以直接下载一些电影、书和音乐了。</p>
<h2 id="Finished-List"><a href="#Finished-List" class="headerlink" title="Finished List"></a>Finished List</h2><p><a href="http://music.163.com/song?id=340365&amp;userid=257118394" target="_blank" rel="noopener">Forever 21 </a><br><a href="http://music.163.com/song?id=29418037&amp;userid=257118394" target="_blank" rel="noopener">微光</a><br><a href="http://music.163.com/song?id=36198480&amp;userid=257118394" target="_blank" rel="noopener">Stitches</a><br><a href="http://music.163.com/song?id=29004400&amp;userid=257118394" target="_blank" rel="noopener">烟火里的尘埃</a><br><a href="http://music.163.com/song?id=28592013&amp;userid=257118394" target="_blank" rel="noopener">Slipin</a><br><a href="http://music.163.com/song?id=507783538&amp;userid=257118394" target="_blank" rel="noopener">Starry Starry Night</a><br><a href="http://music.163.com/song?id=542763586&amp;userid=257118394" target="_blank" rel="noopener">童话镇</a><br><a href="http://music.163.com/song?id=550661&amp;userid=257118394" target="_blank" rel="noopener">手紙 ~拝啓 十五の君へ~</a><br><a href="http://music.163.com/song?id=569214247&amp;userid=257118394" target="_blank" rel="noopener">平凡的一天</a><br><a href="http://music.163.com/song?id=2175282&amp;userid=257118394" target="_blank" rel="noopener">Heartbeats </a><br><a href="http://music.163.com/song?id=470057375&amp;userid=257118394" target="_blank" rel="noopener">至此流年各天涯</a><br><a href="http://music.163.com/song?id=2080139&amp;userid=257118394" target="_blank" rel="noopener">Beautiful In White (Demo)</a></p>
<h2 id="Movies"><a href="#Movies" class="headerlink" title="Movies"></a>Movies</h2><p><a href="http://pbc5upl77.bkt.clouddn.com/%E5%AF%84%E7%94%9F%E5%85%BD.Parasyte.2014.HD1080P.x264.%E6%97%A5%E8%AF%AD%E4%B8%AD%E6%96%87%E5%AD%97%E5%B9%95.rarbt.torrent" target="_blank" rel="noopener">寄生兽</a><br><a href="http://pbc5upl77.bkt.clouddn.com/%E3%80%90BT%E5%A4%A9%E5%A0%82%E3%80%91%E3%80%90BTtt.la%E3%80%91%5B1080p%5D%E9%87%91%E5%88%9A%E7%8B%BC3%EF%BC%9A%E6%AE%8A%E6%AD%BB%E4%B8%80%E6%88%98.4.75GB.torrent" target="_blank" rel="noopener">金刚狼3-殊死一战</a><br><a href="http://pbc5upl77.bkt.clouddn.com/%E7%BD%97%E6%9B%BC%E8%92%82%E5%85%8B%E6%B6%88%E4%BA%A1%E5%8F%B2.The.Wasted.Times.2016.1080p.WEB-DL.X264.AAC-%E5%9B%BD%E8%AF%AD%E4%B8%AD%E5%AD%97-RARBT.torrent" target="_blank" rel="noopener">罗曼蒂克消亡史</a><br><a href="http://pbc5upl77.bkt.clouddn.com/%E3%80%90rarbt%E4%B8%AD%E6%96%87%E7%AB%99%E3%80%91%E3%80%90rarbt.com%E3%80%91%E7%8B%AC%E7%AB%8B%E6%97%A5.%E5%8D%B7%E5%9C%9F%E9%87%8D%E6%9D%A5.Independence.Day.Resurgence.2016.BD1080P.x264.%E8%8B%B1%E8%AF%AD.%E5%AE%98%E6%96%B9%E4%B8%AD%E6%96%87%E5%AD%97%E5%B9%95.rarbt.mp4.torrent" target="_blank" rel="noopener">独立日-卷土重来</a><br><a href="http://pbc5upl77.bkt.clouddn.com/%E7%94%9F%E5%8C%96%E5%8D%B1%E6%9C%BA6.Resident.Evil.The.Final.Chapter.2016.1080p.WEB-DL.DD5.1.H264-%E4%B8%AD%E8%8B%B1%E5%8F%8C%E5%AD%97-RARBT.torrent" target="_blank" rel="noopener">生化危机-6</a><br><a href="http://pbc5upl77.bkt.clouddn.com/%E5%A5%87%E5%BC%82%E5%8D%9A%E5%A3%AB.Doctor.Strange.2016.1080p.BluRay.x264-%E4%B8%AD%E8%8B%B1%E5%8F%8C%E5%AD%97-RARBT.torrent" target="_blank" rel="noopener">奇异博士</a><br><a href="http://pbc5upl77.bkt.clouddn.com/%E7%94%9F%E5%90%83.Grave.2016.HD1080P.torrent" target="_blank" rel="noopener">生吃</a>  </p>
<blockquote>
<p>压抑着的欲望，总有一天会把你吞噬。<br>选择克制？还是放纵？</p>
</blockquote>
<p><a href="http://pbc5upl77.bkt.clouddn.com/f-oneday.720p.torrent" target="_blank" rel="noopener">One Day</a>  </p>
<blockquote>
<p>我可以为你而死，可我不再为你活着。<br>I love you, but I don’t like you any more.</p>
</blockquote>
<h2 id="TODO-List"><a href="#TODO-List" class="headerlink" title="TODO List"></a>TODO List</h2><p><a href="https://haojohnsonlee.github.io/2018/07/09/%E5%BD%B1%E8%AF%84-%E6%88%91%E4%B8%8D%E6%98%AF%E8%8D%AF%E7%A5%9E/">我不是药神</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://haojohnsonlee.github.io/2018/07/03/算法-明明的随机数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Johnson Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昊江的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/算法-明明的随机数/" itemprop="url">算法-明明的随机数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-03T22:08:23+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  484
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  3 mins
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h3><p>明明想在学校中请一些同学一起做一项问卷调查，为了实验的客观性，他先用计算机生成了N个1到1000之间的随机整数（N&lt;1000），对于其中重复的数字，只保留一个，把其余相同的数去掉，不同的数对应着不同的学生的学号。然后再把这些数从小到大排序，按照排好的顺序去找同学做调查。请你协助明明完成“去重”与“排序”的工作。</p>
<h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><p>输入多行，先输入随机整数的个数，再输入相应个数的整数</p>
<blockquote>
<p>11<br>10<br>20<br>40<br>32<br>67<br>40<br>20<br>89<br>300<br>400<br>15  </p>
</blockquote>
<h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><blockquote>
<p>10<br>15<br>20<br>32<br>40<br>67<br>89<br>300<br>400  </p>
</blockquote>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><h4 id="实现一"><a href="#实现一" class="headerlink" title="实现一"></a>实现一</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dunpliAndSort</span><span class="params">(ArrayList&lt;Integer&gt; input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] map = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1000</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            map[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; input.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = input.get(i);</span><br><span class="line">            <span class="keyword">if</span> (map[cur] == <span class="number">0</span>) &#123; <span class="comment">//插入排序</span></span><br><span class="line">                map[cur] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">int</span> p = i;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (input.get(j) &gt; input.get(p)) &#123;</span><br><span class="line">                        <span class="keyword">int</span> temp = input.get(j);</span><br><span class="line">                        input.set(j, cur);</span><br><span class="line">                        input.set(p, temp);</span><br><span class="line">                        p--;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">//去重</span></span><br><span class="line">                input.remove(i);</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; s = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n = sc.nextInt();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; n &amp;&amp; sc.hasNext()) &#123;</span><br><span class="line">            s.add(sc.nextInt());</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        dunpliAndSort(s);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; s.size(); p++) &#123;</span><br><span class="line">            System.out.println(s.get(p));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="实现二"><a href="#实现二" class="headerlink" title="实现二"></a>实现二</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Johnson on 2018/7/3.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> N,n;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(sc.hasNextInt())&#123;</span><br><span class="line">            N = sc.nextInt();</span><br><span class="line">            n =<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1000</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span> ;i&lt;<span class="number">1000</span>; i++)&#123;</span><br><span class="line">                result[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(n &lt; N &amp;&amp; sc.hasNextInt())&#123;</span><br><span class="line">                result[sc.nextInt()] = <span class="number">1</span>;</span><br><span class="line">                n++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span> ;i&lt;<span class="number">1000</span>; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(result[i] == <span class="number">1</span>)</span><br><span class="line">                    System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Johnson Lee" />
          <p class="site-author-name" itemprop="name">Johnson Lee</p>
           
              <p class="site-description motion-element" itemprop="description">以后将会在此发布一些生活的、技术的、学业的各种分享在这里，以期记录我的点点滴滴</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Johnson Lee</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
